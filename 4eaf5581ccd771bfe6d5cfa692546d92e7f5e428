{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "298a14f1_fe3ee1ce",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:09:25Z",
      "side": 1,
      "message": "not only for backup you also doing the upgrade and init when RO? is this necessary? Could we have RW while we are doing upgrade?",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2cfc1205_87c3206a",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "RO is needed only during the backup. I think I put it on the upgrade as well by mistake. I am going to amend it.",
      "parentUuid": "298a14f1_fe3ee1ce",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08891dd3_bda30b32",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:22:04Z",
      "side": 1,
      "message": "not: comma between caches and indexes",
      "range": {
        "startLine": 18,
        "startChar": 41,
        "endLine": 18,
        "endChar": 47
      },
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "440017e8_e9b6453f",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08891dd3_bda30b32",
      "range": {
        "startLine": 18,
        "startChar": 41,
        "endLine": 18,
        "endChar": 47
      },
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d28a072_49e6da74",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:13:39Z",
      "side": 1,
      "message": "what about making the secondary node unhealthy to make sure that it will not receive any traffic",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5b0550d_6c2d1b43",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "Good catch. Amending.",
      "parentUuid": "2d28a072_49e6da74",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4e9b1a7_aef0592f",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:09:25Z",
      "side": 1,
      "message": "gerrit.war?",
      "range": {
        "startLine": 24,
        "startChar": 51,
        "endLine": 24,
        "endChar": 71
      },
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f8bd6be_8d1c15d5",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:09:25Z",
      "side": 1,
      "message": "I\u0027m not sure if we are able to run init when Gerrit is up and running",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c8bac76_25540dcc",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:22:04Z",
      "side": 1,
      "message": "they already have all plugins prepared so no need to install them",
      "range": {
        "startLine": 24,
        "startChar": 106,
        "endLine": 24,
        "endChar": 113
      },
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6f779139_86b008b5",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "I missed the \"stop it\" step",
      "parentUuid": "9f8bd6be_8d1c15d5",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32a809f9_d522dcab",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "It depends how they will do the upgrade...in general if you don\u0027t replace the war file in the bin directory and you run an init, the init step will take care of replacing the war file with the new one.\n\nI preferred to be specific so they understand the init has to be done on the 2.15 war file",
      "parentUuid": "a4e9b1a7_aef0592f",
      "range": {
        "startLine": 24,
        "startChar": 51,
        "endLine": 24,
        "endChar": 71
      },
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc256ae3_5836a893",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "I wanted to leave it generic, since I wasn\u0027t sure if we will assist with the migration or not To make sure it is documented maybe we can leave as it is to make it clear...if the plugins will be \"manually installed\" it can be removed.",
      "parentUuid": "6c8bac76_25540dcc",
      "range": {
        "startLine": 24,
        "startChar": 106,
        "endLine": 24,
        "endChar": 113
      },
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1481001c_7d1ea17c",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T07:52:26Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "32a809f9_d522dcab",
      "range": {
        "startLine": 24,
        "startChar": 51,
        "endLine": 24,
        "endChar": 71
      },
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "228124e2_db19853c",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:09:25Z",
      "side": 1,
      "message": "should we wait for all indexes not only changes?",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8c957a44_19d998d5",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "Good catch..you are right.",
      "parentUuid": "228124e2_db19853c",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9807a041_bd8f3125",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:09:25Z",
      "side": 1,
      "message": "if we have RO while we are upgrading secondary node should we put RO again when we do primary? plus we should have detailed steps how to upgrade primary node",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "615f8021_554ddebd",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:13:39Z",
      "side": 1,
      "message": "should we make primary node unhealthy to redirect the traffic?",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5ca7522_0b743b2d",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:22:04Z",
      "side": 1,
      "message": "before migration of the primary node should we check if secondary node is not missbehaving and can handle the traffic?",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "33e83def_689eb0dc",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b5ca7522_0b743b2d",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e07815d_31ce3d99",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "I think the upgrade can be done in RW, with one node upgrading and the other one receiving traffic. Cannot think at the moment any reason why it shouldn\u0027t work.",
      "parentUuid": "9807a041_bd8f3125",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0755c366_777777b4",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "615f8021_554ddebd",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "97e1b6ce_b81c3bd5",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 38,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T07:52:26Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3e07815d_31ce3d99",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c933504_cf072ae6",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:09:25Z",
      "side": 1,
      "message": "how to run delta reindexing?",
      "range": {
        "startLine": 39,
        "startChar": 117,
        "endLine": 39,
        "endChar": 130
      },
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3e8acccf_d42ce170",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:09:25Z",
      "side": 1,
      "message": "are we able to restore the files when Gerrit is up and running? I think some of them are locked",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3bc5cffa_559cb4ec",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:40:37Z",
      "side": 1,
      "message": "Nope you are right. I need to elaborate more this section. Probably here we shouldn\u0027t consider \"disaster recovery situations\", that should be something already in place as a general workflow.\n\nI think I should just mention how to rollback, for example a single node, in case something wen wrong.",
      "parentUuid": "3e8acccf_d42ce170",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee0ccda4_fff791cd",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T07:55:38Z",
      "side": 1,
      "message": "We should have strategy how to rollback full system in case of some issues discovered after the migration is completed for all nodes",
      "parentUuid": "3bc5cffa_559cb4ec",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "512715fe_98626ce8",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:09:25Z",
      "side": 1,
      "message": "should we give more details why we do not recommend?",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "160546bd_223787e6",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "I would stay generic and we can expand if asked.",
      "parentUuid": "512715fe_98626ce8",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "81cc5385_7f761c7a",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T07:52:26Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "160546bd_223787e6",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7dabdd8_331ae565",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-12T18:24:28Z",
      "side": 1,
      "message": "we should have section how to validate if upgrade was successful and node is not missbehaving",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "884e7fe3_73ac095a",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1012541
      },
      "writtenOn": "2021-05-12T20:28:53Z",
      "side": 1,
      "message": "I think this is not specific to a particular migration. There should be generic enough tests to prove everything is ok. Or were you thinking about something specific for 2.15?",
      "parentUuid": "a7dabdd8_331ae565",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "300c59f8_7312704c",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.14-TO-2.15.md",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T07:52:26Z",
      "side": 1,
      "message": "I agree, we can have it as a separate document but we should link it here",
      "parentUuid": "884e7fe3_73ac095a",
      "revId": "4eaf5581ccd771bfe6d5cfa692546d92e7f5e428",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}