{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "96d32486_43c0b39a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T17:17:59Z",
      "side": 1,
      "message": "Should we add section for slaves as well?",
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31c4da7e_c76acbc7",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 8,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T17:17:59Z",
      "side": 1,
      "message": "In 2.14-\u003e2.15 cut-over Luca suggested that we can avoid this read only if we accept some inconsistency",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 8,
        "endChar": 26
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3503a139_ca3de38f",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 8,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "True, the partial inconsistency can be recovered at restore time with a delta-reindex. With regards to caches inconsistency, it isn\u0027t severe because caches are never going to be 100% aligned anyway.",
      "parentUuid": "31c4da7e_c76acbc7",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 8,
        "endChar": 26
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4fe6dc08_829f01f3",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "Why? As mentioned in the comment at L7-8 that isn\u0027t needed.",
      "range": {
        "startLine": 20,
        "startChar": 12,
        "endLine": 20,
        "endChar": 58
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d34d44fb_74d5a4bd",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "Not needed.",
      "range": {
        "startLine": 27,
        "startChar": 39,
        "endLine": 27,
        "endChar": 54
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f15ad65_68775cf1",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 70,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "What does this mean in practical terms?",
      "range": {
        "startLine": 70,
        "startChar": 10,
        "endLine": 70,
        "endChar": 64
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "939be9a6_24c982f2",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 75,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "1 thread is *definitely* not enough :-)",
      "range": {
        "startLine": 75,
        "startChar": 3,
        "endLine": 75,
        "endChar": 34
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2029c424_5e229645",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T17:17:59Z",
      "side": 1,
      "message": "it\u0027s not clear if changing this settings require gerrit restart. I think yes and we should mention it to be clear",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 82,
        "endChar": 45
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c39fab0_19a36cb5",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 82,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "Yes, but that must be assessed in staging, various combinations tried and then set a number of threads for the go-live.",
      "parentUuid": "2029c424_5e229645",
      "range": {
        "startLine": 80,
        "startChar": 0,
        "endLine": 82,
        "endChar": 45
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa6ee3e3_10d7e889",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 129,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "I would put this into a separate chapter called \"observation period\".\n\nDuring the observation period you can:\n- Do all the E2E operations as normal\n- Observe the logs for possible errors\n- Measure performance for potential issues\n\nAlso, the CPU utilisation is expected to go up because of the double-storage.\n\nQuestion: what to do if some changes become inconsistent because of concurrency? Should we block certain operations like the submission of changes in \"rebase if needed\" mode?",
      "range": {
        "startLine": 128,
        "startChar": 28,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd3baf00_e96a9677",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 160,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T17:17:59Z",
      "side": 1,
      "message": "project1?",
      "range": {
        "startLine": 160,
        "startChar": 14,
        "endLine": 160,
        "endChar": 21
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da4390f9_453c5a18",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 176,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T17:17:59Z",
      "side": 1,
      "message": "do we have to restart secondary node?",
      "range": {
        "startLine": 176,
        "startChar": 40,
        "endLine": 176,
        "endChar": 51
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17fc6fcd_7b791c16",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 177,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "primary gerrit instance",
      "range": {
        "startLine": 177,
        "startChar": 6,
        "endLine": 177,
        "endChar": 22
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b51830b0_e9c2ee38",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 216,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T17:17:59Z",
      "side": 1,
      "message": "project1?",
      "range": {
        "startLine": 216,
        "startChar": 14,
        "endLine": 216,
        "endChar": 21
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46538b28_880ff61a",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 228,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "That looks scary :-)\nWhat about calling it \"no-rollback stage\"?\n\nP.S. That suggest that a longer observation period needs to happen before point 4.",
      "range": {
        "startLine": 228,
        "startChar": 29,
        "endLine": 228,
        "endChar": 49
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "84891484_9f8fa5a8",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 230,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "As worst-case scenario, I imagine we could create some \"placeholders\" in review-db just-in-case. That would assure to keep the changes but not the review messages associated to them.",
      "range": {
        "startLine": 230,
        "startChar": 0,
        "endLine": 230,
        "endChar": 50
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f82e68b1_e26bcd88",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 232,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "Why?",
      "range": {
        "startLine": 232,
        "startChar": 10,
        "endLine": 232,
        "endChar": 61
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11d17bc0_d38c0c08",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 233,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "As explained above, that isn\u0027t needed as the partial inconsistency can be resolved at restore time.",
      "range": {
        "startLine": 233,
        "startChar": 6,
        "endLine": 233,
        "endChar": 65
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16763840_06dcbf49",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 263,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T17:17:59Z",
      "side": 1,
      "message": "same is the restart needed?",
      "range": {
        "startLine": 263,
        "startChar": 5,
        "endLine": 263,
        "endChar": 13
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bf7c5ad_2549928a",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 277,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "Not needed: nodes can keep on serving incoming traffic whilst the migration is taking place.",
      "range": {
        "startLine": 277,
        "startChar": 0,
        "endLine": 277,
        "endChar": 56
      },
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cc1b6a1a_90d930ff",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 313,
      "author": {
        "id": 1005270
      },
      "writtenOn": "2021-05-13T17:17:59Z",
      "side": 1,
      "message": "Should we also have extra step to replace postgresql with H2 file withe the schema version?",
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d534610_ade93a08",
        "filename": "cutover/CUTOVER-PLAN-MIGRATION-2.16-reviewb-TO-2.16-notedb.md",
        "patchSetId": 3
      },
      "lineNbr": 313,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-05-14T00:15:35Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "cc1b6a1a_90d930ff",
      "revId": "64e229d9eaa187cd950e31ec3a6787afe0b77db3",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}